head	1.2;
access;
symbols;
locks; strict;
comment	@ * @;


1.2
date	2018.01.18.14.41.45;	author twb;	state Exp;
branches;
next	1.1;

1.1
date	2018.01.18.14.41.26;	author twb;	state Exp;
branches;
next	;


desc
@@


1.2
log
@*** empty log message ***
@
text
@/* 
   routines dealing with little/big endian crap

   taken from the web at some point, i think 

   $Id$

*/
#include "bo.h"

/* check for endian-ness */

int is_little_endian(void)
{
  static const unsigned long a = 1;
  
  return *(const unsigned char *)&a;
}

/* 


flip endian-ness


*/
/* 

flip endianness of x

*/
void flip_byte_order(void *x, size_t len)
{
  void *copy;
  copy = (void *)malloc(len);
  if(!copy){
    fprintf(stderr,"flip_byte_order: memerror with len: %i\n",(int)len);
    exit(-1);
  }
  memcpy(copy,x,len);
  flipit(x,copy,len);
  free(copy);
}
/* this should not be called with (i,i,size i) */
void flipit(void *d, void *s, size_t len)
{
  unsigned char *dest = d;
  unsigned char *src  = s;
  src += len - 1;
  for (; len; len--)
    *dest++ = *src--;
}

@


1.1
log
@Initial revision
@
text
@d6 1
a6 1

@
